var ke=Object.defineProperty;var ze=(t,e,n)=>e in t?ke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var x=(t,e,n)=>ze(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function z(){}function $e(t){return t()}function ue(){return Object.create(null)}function P(t){t.forEach($e)}function be(t){return typeof t=="function"}function M(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Le(t){return Object.keys(t).length===0}function d(t,e){t.appendChild(e)}function E(t,e,n){t.insertBefore(e,n||null)}function S(t){t.parentNode&&t.parentNode.removeChild(t)}function De(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _(t){return document.createElement(t)}function A(t){return document.createTextNode(t)}function k(){return A(" ")}function Se(){return A("")}function ee(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ee(t){return Array.from(t.childNodes)}function B(t,e){e=""+e,t.data!==e&&(t.data=e)}function H(t,e){t.value=e??""}let se;function F(t){se=t}const N=[],Q=[];let q=[];const ne=[],Oe=Promise.resolve();let re=!1;function je(){re||(re=!0,Oe.then(ve))}function le(t){q.push(t)}function ie(t){ne.push(t)}const te=new Set;let I=0;function ve(){if(I!==0)return;const t=se;do{try{for(;I<N.length;){const e=N[I];I++,F(e),Ae(e.$$)}}catch(e){throw N.length=0,I=0,e}for(F(null),N.length=0,I=0;Q.length;)Q.pop()();for(let e=0;e<q.length;e+=1){const n=q[e];te.has(n)||(te.add(n),n())}q.length=0}while(N.length);for(;ne.length;)ne.pop()();re=!1,te.clear(),F(t)}function Ae(t){if(t.fragment!==null){t.update(),P(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(le)}}function Ce(t){const e=[],n=[];q.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),q=e}const K=new Set;let C;function U(){C={r:0,c:[],p:C}}function G(){C.r||P(C.c),C=C.p}function g(t,e){t&&t.i&&(K.delete(t),t.i(e))}function y(t,e,n,r){if(t&&t.o){if(K.has(t))return;K.add(t),C.c.push(()=>{K.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function ae(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ce(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function W(t){t&&t.c()}function T(t,e,n){const{fragment:r,after_update:l}=t.$$;r&&r.m(e,n),le(()=>{const s=t.$$.on_mount.map($e).filter(be);t.$$.on_destroy?t.$$.on_destroy.push(...s):P(s),t.$$.on_mount=[]}),l.forEach(le)}function Y(t,e){const n=t.$$;n.fragment!==null&&(Ce(n.after_update),P(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ie(t,e){t.$$.dirty[0]===-1&&(N.push(t),je(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function R(t,e,n,r,l,s,u=null,a=[-1]){const c=se;F(t);const o=t.$$={fragment:null,ctx:[],props:s,update:z,not_equal:l,bound:ue(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:ue(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};u&&u(o.root);let f=!1;if(o.ctx=n?n(t,e.props||{},(i,m,...h)=>{const L=h.length?h[0]:m;return o.ctx&&l(o.ctx[i],o.ctx[i]=L)&&(!o.skip_bound&&o.bound[i]&&o.bound[i](L),f&&Ie(t,i)),m}):[],o.update(),f=!0,P(o.before_update),o.fragment=r?r(o.ctx):!1,e.target){if(e.hydrate){const i=Ee(e.target);o.fragment&&o.fragment.l(i),i.forEach(S)}else o.fragment&&o.fragment.c();e.intro&&g(t.$$.fragment),T(t,e.target,e.anchor),ve()}F(c)}class V{constructor(){x(this,"$$");x(this,"$$set")}$destroy(){Y(this,1),this.$destroy=z}$on(e,n){if(!be(n))return z;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!Le(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ne="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ne);function qe(t){let e,n,r,l,s,u,a,c,o,f,i,m,h,L;return{c(){e=_("form"),n=_("div"),r=_("label"),r.textContent="Benutzername:",l=k(),s=_("input"),u=k(),a=_("div"),c=_("label"),c.textContent="Passwort:",o=k(),f=_("input"),i=k(),m=_("center"),m.innerHTML='<button type="submit" class="svelte-1ndkz3p">Daten laden</button>',p(r,"for","username"),p(r,"class","svelte-1ndkz3p"),p(s,"id","username"),p(s,"type","text"),p(s,"class","svelte-1ndkz3p"),p(n,"class","form-group svelte-1ndkz3p"),p(c,"for","password"),p(c,"class","svelte-1ndkz3p"),p(f,"id","password"),p(f,"type","password"),p(f,"class","svelte-1ndkz3p"),p(a,"class","form-group svelte-1ndkz3p")},m(b,v){E(b,e,v),d(e,n),d(n,r),d(n,l),d(n,s),H(s,t[0]),d(e,u),d(e,a),d(a,c),d(a,o),d(a,f),H(f,t[1]),d(e,i),d(e,m),h||(L=[ee(s,"input",t[4]),ee(f,"input",t[5]),ee(e,"submit",t[2])],h=!0)},p(b,[v]){v&1&&s.value!==b[0]&&H(s,b[0]),v&2&&f.value!==b[1]&&H(f,b[1])},i:z,o:z,d(b){b&&S(e),h=!1,P(L)}}}function Pe(t,e,n){let{username:r}=e,{password:l}=e,{fetchData:s}=e;function u(o){o.preventDefault(),s()}function a(){r=this.value,n(0,r)}function c(){l=this.value,n(1,l)}return t.$$set=o=>{"username"in o&&n(0,r=o.username),"password"in o&&n(1,l=o.password),"fetchData"in o&&n(3,s=o.fetchData)},[r,l,u,s,a,c]}class Be extends V{constructor(e){super(),R(this,e,Pe,qe,M,{username:0,password:1,fetchData:3})}}function Fe(t){let e;return{c(){e=_("p"),e.textContent="Laden...",p(e,"class","loading svelte-1j58wrj")},m(n,r){E(n,e,r)},p:z,i:z,o:z,d(n){n&&S(e)}}}class Me extends V{constructor(e){super(),R(this,e,null,Fe,M,{})}}function Te(t){let e,n;return{c(){e=_("p"),n=A(t[0]),p(e,"class","error svelte-bxlh6h")},m(r,l){E(r,e,l),d(e,n)},p(r,[l]){l&1&&B(n,r[0])},i:z,o:z,d(r){r&&S(e)}}}function Ye(t,e,n){let{error:r}=e;return t.$$set=l=>{"error"in l&&n(0,r=l.error)},[r]}class ye extends V{constructor(e){super(),R(this,e,Ye,Te,M,{error:0})}}function de(t,e,n){const r=t.slice();return r[1]=e[n],r}function pe(t){let e,n=J($(t[1],23))+"",r,l;return{c(){e=_("a"),r=A(n),p(e,"href",l=J($(t[1],23))),p(e,"target","_blank")},m(s,u){E(s,e,u),d(e,r)},p(s,u){u&1&&n!==(n=J($(s[1],23))+"")&&B(r,n),u&1&&l!==(l=J($(s[1],23)))&&p(e,"href",l)},d(s){s&&S(e)}}}function me(t){let e,n,r,l=$(t[1],20)+"",s,u,a,c,o=$(t[1],22)+"",f,i,m,h,L=$(t[1],23),b,v,O,oe,Z=new Date($(t[1],27)).toLocaleDateString()+"",X,fe,w=L&&pe(t);return{c(){e=_("li"),n=_("h2"),r=_("strong"),s=A(l),u=k(),a=_("p"),c=_("a"),f=A(o),m=k(),h=_("p"),w&&w.c(),b=k(),v=_("p"),O=_("i"),oe=A("Letzte Zahlung: "),X=A(Z),fe=k(),p(n,"class","svelte-6q350z"),p(c,"href",i="mailto:"+$(t[1],22)),p(c,"target","_blank"),p(a,"class","svelte-6q350z"),p(h,"class","svelte-6q350z"),p(v,"class","svelte-6q350z"),p(e,"class","svelte-6q350z")},m(D,j){E(D,e,j),d(e,n),d(n,r),d(r,s),d(e,u),d(e,a),d(a,c),d(c,f),d(e,m),d(e,h),w&&w.m(h,null),d(e,b),d(e,v),d(v,O),d(O,oe),d(O,X),d(e,fe)},p(D,j){j&1&&l!==(l=$(D[1],20)+"")&&B(s,l),j&1&&o!==(o=$(D[1],22)+"")&&B(f,o),j&1&&i!==(i="mailto:"+$(D[1],22))&&p(c,"href",i),j&1&&(L=$(D[1],23)),L?w?w.p(D,j):(w=pe(D),w.c(),w.m(h,null)):w&&(w.d(1),w=null),j&1&&Z!==(Z=new Date($(D[1],27)).toLocaleDateString()+"")&&B(X,Z)},d(D){D&&S(e),w&&w.d()}}}function Re(t){let e,n=ae(t[0]),r=[];for(let l=0;l<n.length;l+=1)r[l]=me(de(t,n,l));return{c(){e=_("ul");for(let l=0;l<r.length;l+=1)r[l].c();p(e,"class","svelte-6q350z")},m(l,s){E(l,e,s);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(e,null)},p(l,[s]){if(s&1){n=ae(l[0]);let u;for(u=0;u<n.length;u+=1){const a=de(l,n,u);r[u]?r[u].p(a,s):(r[u]=me(a),r[u].c(),r[u].m(e,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=n.length}},i:z,o:z,d(l){l&&S(e),De(r,l)}}}function J(t){try{return JSON.parse(t).value}catch{return null}}function $(t,e){const n=t.data.find(r=>r.columnId===e);return n?n.value:null}function Ve(t,e,n){let{rows:r}=e;return t.$$set=l=>{"rows"in l&&n(0,r=l.rows)},[r]}class Ze extends V{constructor(e){super(),R(this,e,Ve,Re,M,{rows:0})}}function he(t){let e,n,r,l,s,u;function a(i){t[6](i)}function c(i){t[7](i)}let o={fetchData:t[5]};t[0]!==void 0&&(o.username=t[0]),t[1]!==void 0&&(o.password=t[1]),e=new Be({props:o}),Q.push(()=>ce(e,"username",a)),Q.push(()=>ce(e,"password",c));let f=t[4]&&_e();return{c(){W(e.$$.fragment),l=k(),f&&f.c(),s=Se()},m(i,m){T(e,i,m),E(i,l,m),f&&f.m(i,m),E(i,s,m),u=!0},p(i,m){const h={};!n&&m&1&&(n=!0,h.username=i[0],ie(()=>n=!1)),!r&&m&2&&(r=!0,h.password=i[1],ie(()=>r=!1)),e.$set(h),i[4]?f?m&16&&g(f,1):(f=_e(),f.c(),g(f,1),f.m(s.parentNode,s)):f&&(U(),y(f,1,1,()=>{f=null}),G())},i(i){u||(g(e.$$.fragment,i),g(f),u=!0)},o(i){y(e.$$.fragment,i),y(f),u=!1},d(i){i&&(S(l),S(s)),Y(e,i),f&&f.d(i)}}}function _e(t){let e,n;return e=new Me({}),{c(){W(e.$$.fragment)},m(r,l){T(e,r,l),n=!0},i(r){n||(g(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function ge(t){let e,n;return e=new ye({props:{error:t[3]}}),{c(){W(e.$$.fragment)},m(r,l){T(e,r,l),n=!0},p(r,l){const s={};l&8&&(s.error=r[3]),e.$set(s)},i(r){n||(g(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function we(t){let e,n;return e=new Ze({props:{rows:t[2]}}),{c(){W(e.$$.fragment)},m(r,l){T(e,r,l),n=!0},p(r,l){const s={};l&4&&(s.rows=r[2]),e.$set(s)},i(r){n||(g(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function He(t){let e,n,r,l,s,u,a=t[2].length===0&&he(t),c=t[3]&&ge(t),o=t[2].length>0&&we(t);return{c(){e=_("main"),n=_("h1"),n.textContent="Überfällige Zahlungen",r=k(),a&&a.c(),l=k(),c&&c.c(),s=k(),o&&o.c(),p(n,"class","svelte-1djxqkj"),p(e,"class","svelte-1djxqkj")},m(f,i){E(f,e,i),d(e,n),d(e,r),a&&a.m(e,null),d(e,l),c&&c.m(e,null),d(e,s),o&&o.m(e,null),u=!0},p(f,[i]){f[2].length===0?a?(a.p(f,i),i&4&&g(a,1)):(a=he(f),a.c(),g(a,1),a.m(e,l)):a&&(U(),y(a,1,1,()=>{a=null}),G()),f[3]?c?(c.p(f,i),i&8&&g(c,1)):(c=ge(f),c.c(),g(c,1),c.m(e,s)):c&&(U(),y(c,1,1,()=>{c=null}),G()),f[2].length>0?o?(o.p(f,i),i&4&&g(o,1)):(o=we(f),o.c(),g(o,1),o.m(e,null)):o&&(U(),y(o,1,1,()=>{o=null}),G())},i(f){u||(g(a),g(c),g(o),u=!0)},o(f){y(a),y(c),y(o),u=!1},d(f){f&&S(e),a&&a.d(),c&&c.d(),o&&o.d()}}}function Je(t,e){return btoa(`${t}:${e}`)}function Ke(t){const e=new Date;return e.setFullYear(e.getFullYear()-1),t<e}function Ue(t,e,n){let r=localStorage.getItem("username")||"",l=localStorage.getItem("password")||"",s=[],u="",a=!1;function c(){localStorage.setItem("username",r),localStorage.setItem("password",l)}async function o(){c();const m=Je(r,l);n(4,a=!0),n(3,u=""),n(2,s=[]);try{const h=await fetch("https://cloud.norden.social/apps/tables/api/1/tables/4/rows",{headers:{Authorization:`Basic ${m}`}});if(!h.ok)throw new ye(`Error: ${h.statusText}`);const L=await h.json();n(2,s=L.filter(b=>{const v=b.data.find(O=>O.columnId===27);if(v&&v.value){const O=new Date(v.value);return Ke(O)}return!1}))}catch(h){n(3,u=h.message)}finally{n(4,a=!1)}}function f(m){r=m,n(0,r)}function i(m){l=m,n(1,l)}return[r,l,s,u,a,o,f,i]}class Ge extends V{constructor(e){super(),R(this,e,Ue,He,M,{})}}new Ge({target:document.getElementById("app")});
